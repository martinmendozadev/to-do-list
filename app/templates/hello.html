{% extends 'base.html' %}
{% import 'macros.html' as macros %}
{% import 'bootstrap/wtf.html' as wtf %}

{% block title %}
    {{ super() }}
        Welcome
{% endblock %}


{% block content %}
    <div class="container">
        <div class="row">
            <div class="col-6">
                {% if username %}
                    <h1>Welcome, {{ username | capitalize }}!</h1>
                {% endif %}

                {% if user_ip %}
                    <h3>Your IP is {{ user_ip }}</h3>
                {% else %}
                    <h3>Sorry we can't get you your IP</h3>
                {% endif %}
            </div>
        </div>

        <hr>
    
        <div class="row">
            <div class="col-sm-4">
                <h2>New Task</h2>
                {{ wtf.quick_form(todo_form, button_map={'submit': 'success'}) }}
            </div>
            <div class="col-sm-3">
                
            </div>
            <div class="col-sm-5">
                <ul class="list-group">
                    {% for todo in todos %}
                        {{ macros.render_todo(todo, delete_form, update_form) }}
                    {% endfor %}
                </ul>
            </div>
        </div>    
    </div>

{% endblock %}
